define(["angular","devConfig","pathConfig","jquery"],function(e){e.module("webcam-module",[]).controller("webcam-ctrl",["$scope","$location","$$console","$timeout","$interval","$$ls","$q",function(e,t,n,o,a){var i=(e._f,e.s={},document.getElementById("canvas")),c=i.getContext("2d"),r=document.getElementById("video"),d={video:!0},g=document.getElementById("img"),l=function(e){console.log("Video capture error: ",e.code)};navigator.getUserMedia?navigator.getUserMedia(d,function(e){r.src=e,r.play()},l):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(d,function(e){r.src=window.webkitURL.createObjectURL(e),r.play()},l):navigator.mozGetUserMedia&&navigator.mozGetUserMedia(d,function(e){r.src=window.URL.createObjectURL(e),r.play()},l),document.getElementById("snap").addEventListener("click",function(){c.drawImage(r,0,0,640,480),g.src=i.toDataURL("image/jpeg")}),e.$on("$destroy",function(){a.cancel()})}])});